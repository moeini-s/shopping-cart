(this.webpackJsonpshoppingCart=this.webpackJsonpshoppingCart||[]).push([[0],{78:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(20),a=c.n(n),s=c(3),i=c(5),o=c(6),l=c(16),j=c(14),d=c(15),u=c(27),b=c(17),O=c(13),p=function(e){var t=[];if(localStorage.getItem("cart")){var c=(t=JSON.parse(localStorage.getItem("cart"))).some((function(t){return t.id===e.id}));t=c?t.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),{},{quantity:e.quantity}):t})):[].concat(Object(u.a)(t),[e]),localStorage.setItem("cart",JSON.stringify(Object(u.a)(t)))}else t=[e],localStorage.setItem("cart",JSON.stringify([e]));return O.b.success("\u0645\u062d\u0635\u0648\u0644 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f \u0627\u0636\u0627\u0641\u0647 \u0634\u062f"),{type:"ADD_TO_CART",payload:t}},h=function(e){if(localStorage.getItem("cart")){var t=JSON.parse(localStorage.getItem("cart"));1==t.length?localStorage.removeItem("cart"):(t=t.filter((function(t){return t.id!==e.id})),localStorage.setItem("cart",JSON.stringify(t)))}return O.b.success("\u0645\u062d\u0635\u0648\u0644 \u0627\u0632 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f \u062d\u0630\u0641 \u0634\u062f"),{type:"REMOVE-FROM_CART",payload:e}},x=function(){return localStorage.getItem("cart")&&localStorage.removeItem("cart"),{type:"EMPTY_CART"}},_=c(0),m=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.cart}));return Object(_.jsx)("div",{className:"shoppingCartInHeader",children:t.length>0?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"shoppingCartInHeader__row",children:[Object(_.jsx)(i.b,{to:"/cart",className:"shoppingCartInHeader__row--Showcart",children:" \u0645\u0634\u0627\u0647\u062f\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f "}),Object(_.jsx)("span",{className:"shoppingCartInHeader__row--removeAll",onClick:function(){return e(x())},children:"\u062d\u0630\u0641 \u0647\u0645\u0647"})]}),t.map((function(t,c){return Object(_.jsxs)("div",{className:"shoppingCartInHeader__row",children:[Object(_.jsx)("div",{className:"shoppingCartInHeader__row--pic",children:Object(_.jsx)("img",{src:t.image})}),Object(_.jsxs)("div",{className:"shoppingCartInHeader__row--quantity",children:[t.quantity," \u0639\u062f\u062f"]}),Object(_.jsx)(i.b,{to:"/product/".concat(t.id),className:"shoppingCartInHeader__row--title",children:t.title}),Object(_.jsx)(j.a,{className:"shoppingCartInHeader__row--trash",onClick:function(){return e(h(t))},icon:d.d})]},c)}))]}):Object(_.jsxs)("div",{className:"shoppingCartInHeader__row",children:[Object(_.jsx)(i.b,{to:"/cart",className:"shoppingCartInHeader__row--Showcart",children:" \u0645\u0634\u0627\u0647\u062f\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f "}),Object(_.jsx)("div",{children:"\u0633\u0628\u062f \u062e\u0631\u06cc\u062f \u062e\u0627\u0644\u06cc \u0645\u06cc\u0628\u0627\u0634\u062f"})]})})},f=c(19),g=c.n(f),N=function(e){var t=e.navState,c=Object(r.useState)([]),n=Object(l.a)(c,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){g.a.get("https://fakestoreapi.com/products/categories").then((function(e){s(e.data)}))}),[]),Object(_.jsxs)("div",{className:t?"sideNav active":"sideNav",children:[Object(_.jsx)("div",{className:"sideNav__header",children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"}),a.map((function(e,t){return Object(_.jsx)(i.b,{to:"/category/".concat(e),className:"sideNav__category",children:e},t)})),Object(_.jsx)("span",{className:"sideNav__closeNavBtn",onClick:e.closeNav,children:Object(_.jsx)(j.a,{icon:d.c})})]})},v=function(){var e=Object(s.c)((function(e){return e.userSignIn.userInfo})),t=Object(r.useState)(!1),c=Object(l.a)(t,2),n=c[0],a=c[1];return Object(_.jsx)("div",{className:"header",children:Object(_.jsxs)("div",{className:"header__body",children:[Object(_.jsxs)("div",{className:"header__body__right",children:[Object(_.jsx)(i.b,{to:"/",className:"header__body__right--logo",children:"Online Store"}),Object(_.jsxs)("span",{className:"header__body__right--sideNavBtn",onClick:function(){return a(!n)},children:[Object(_.jsx)(j.a,{icon:d.a})," \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"]}),Object(_.jsx)(N,{navState:n,closeNav:function(){return a(!1)}})]}),Object(_.jsxs)("div",{className:"header__body__left",children:[null==e?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(i.b,{to:"/signin",className:"header__body__left--signIn",children:"\u0648\u0631\u0648\u062f"})}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(i.b,{to:"/profile",className:"header__body__left--profile",children:e.username}),Object(_.jsx)(i.b,{to:"/signout",className:"header__body__left--signOut",children:"\u062e\u0631\u0648\u062c "})]}),Object(_.jsxs)("div",{className:"header__body__left--cart",children:[Object(_.jsx)("div",{className:"Mobilecart",children:Object(_.jsx)(i.b,{to:"/cart",className:"link",children:"\u0633\u0628\u062f \u062e\u0631\u06cc\u062f"})}),Object(_.jsxs)("div",{className:"Desktopcart",children:["\u0633\u0628\u062f \u062e\u0631\u06cc\u062f",Object(_.jsx)(m,{})]})]})]})]})})},S=function(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(v,{}),e.children]})},I=c(18),y=c.n(I),C=c(26),E=function(e){var t="";return t="all"==e?"https://fakestoreapi.com/products":"https://fakestoreapi.com/products/category/".concat(e),function(){var e=Object(C.a)(y.a.mark((function e(c){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:"PRODUCT_LIST_REQUEST"}),g.a.get(t).then((function(e){var t=e.data;c({type:"PRODUCT_LIST_SUCCESS",payload:{products:t}})})).catch((function(e){c({type:"PRODUCT_LIST_FAIL",payload:e.message})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(e){var t=e.products,c=Object(s.b)();return Object(_.jsx)("div",{className:"products",children:t.map((function(e,t){return Object(_.jsxs)("div",{className:"products__product",children:[Object(_.jsx)("img",{src:e.image,className:"products__product--pic"}),Object(_.jsx)(i.b,{to:"/product/".concat(e.id),className:"products__product--title",children:e.title}),Object(_.jsx)("div",{className:"products__product--price",children:e.price}),Object(_.jsx)("button",{className:"products__product--addTocart",onClick:function(){return c(p(Object(b.a)(Object(b.a)({},e),{},{quantity:1})))},children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f"})]},t)}))})},D=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList})),c=t.products,n=t.loading,a=t.error;return Object(r.useEffect)((function(){e(E("all"))}),[]),Object(_.jsx)("div",{children:1==n?Object(_.jsx)("div",{className:"loader"}):a?Object(_.jsx)("div",{className:"error",children:a}):Object(_.jsx)(T,{products:c})})},R=(c(77),c(12)),U=function(e){var t=e.history,c=Object(s.b)(),n=Object(s.c)((function(e){return e.userSignIn})),a=n.userInfo,i=n.loading,o=n.error,j=Object(r.useState)(""),d=Object(l.a)(j,2),u=d[0],b=d[1],p=Object(r.useState)(""),h=Object(l.a)(p,2),x=h[0],m=h[1];a&&setTimeout((function(){return t.replace("/")}),1e3);var f=Object(_.jsxs)("div",{className:"signIn",children:[Object(_.jsx)("h1",{children:"\u0648\u0631\u0648\u062f \u0628\u0647 \u0633\u0627\u06cc\u062a"}),Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(function(e,t){return function(){var c=Object(C.a)(y.a.mark((function c(r){return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:r({type:"USER_SIGNIN_REQUEST"}),g.a.post("https://fakestoreapi.com/auth/login",{username:e,password:t}).then((function(c){var n=c.data;n.token?(localStorage.setItem("userInfo",JSON.stringify({username:e,password:t})),r({type:"USER_SIGNIN_SUCCESS",payload:{username:e,password:t}}),O.b.success("\u06a9\u0627\u0631\u0628\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0648\u0627\u0631\u062f \u0634\u062f",{position:"top-right"})):(r({type:"USER_SIGNIN_FAIL",payload:n.msg}),O.b.error("\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u06cc\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a",{position:"top-right"}))})).catch((function(e){r({type:"USER_SIGNIN_FAIL",payload:e.message}),O.b.error("\u062e\u0637\u0627",{position:"top-right"})}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(u,x))},children:[Object(_.jsx)("label",{children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"}),Object(_.jsx)("input",{placeholder:"mor_2314",type:"text",name:"username",onChange:function(e){return b(e.target.value)},required:!0}),Object(_.jsx)("label",{children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(_.jsx)("input",{placeholder:"83r5^_",type:"password",name:"password",onChange:function(e){return m(e.target.value)},required:!0}),Object(_.jsx)("input",{type:"submit",className:"btn",value:"\u0648\u0631\u0648\u062f"})]})]});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(R.a,{children:Object(_.jsx)("title",{children:"\u0648\u0631\u0648\u062f \u0628\u0647 \u0633\u0627\u06cc\u062a"})}),i?Object(_.jsx)("div",{className:"loader"}):o?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"error",children:o}),f]}):Object(_.jsx)(_.Fragment,{children:f})]})},w=Object(o.g)((function(e){var t=e.history,c=Object(s.b)();return Object(r.useEffect)((function(){c((localStorage.removeItem("userInfo"),O.b.success("\u06a9\u0627\u0631\u0628\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0632 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0627\u0631\u062c \u0634\u062f"),{type:"USER_SIGNOUT"})),t.push("/")}),[]),null})),k=function(e){var t=e.match.params.id,c=Object(s.c)((function(e){return e.productDetail})),n=c.product,a=c.loading,o=c.error,j=Object(r.useState)(1),d=Object(l.a)(j,2),u=d[0],O=d[1],h=Object(s.b)(),x=Object(s.c)((function(e){return e.cart}));return Object(r.useEffect)((function(){h(function(e){return function(){var t=Object(C.a)(y.a.mark((function t(c){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:"PRODUCT_DETAILS_REQUEST"}),g.a.get("https://fakestoreapi.com/products/".concat(e)).then((function(e){var t=e.data;c({type:"PRODUCT_DETAILS_SUCCESS",payload:{product:t}})})).catch((function(e){c({type:"PRODUCT_DETAILS_FAIL",payload:e.message})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),Object(_.jsx)("div",{children:1==a?Object(_.jsx)("div",{className:"loader"}):o?Object(_.jsx)("div",{className:"error",children:o}):Object(_.jsxs)("div",{className:"productDetail",children:[Object(_.jsx)(R.a,{children:Object(_.jsx)("title",{children:n.title})}),Object(_.jsx)("div",{className:"productDetail__pic",children:Object(_.jsx)("img",{src:"".concat(n.image)})}),Object(_.jsxs)("div",{className:"productDetail__information",children:[Object(_.jsx)("div",{className:"productDetail__information--title",children:n.title}),Object(_.jsxs)("div",{className:"productDetail__information--price",children:[Object(_.jsx)("b",{children:"\u0642\u06cc\u0645\u062a: "}),n.price,"$"]}),Object(_.jsxs)(i.b,{to:"/category/".concat(n.category),className:"productDetail__information--category",children:[Object(_.jsx)("b",{children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc: "}),n.category]}),Object(_.jsx)("br",{}),Object(_.jsx)("span",{onClick:function(){return O(u+1)},className:"productDetail__information--increment",children:"+"}),Object(_.jsxs)("span",{className:"productDetail__information--quantity",children:[" ",u," "]}),Object(_.jsx)("span",{onClick:function(){u>1&&O(u-1)},className:"productDetail__information--decrement",children:"-"}),Object(_.jsx)("button",{className:"productDetail__information--addTocart",onClick:function(){return h(p(Object(b.a)(Object(b.a)({},n),{},{quantity:u})))},children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f"}),Object(_.jsx)("div",{children:0!=x.length&&x.some((function(e){return n.id==e.id}))&&Object(_.jsx)("div",{children:"\u062f\u0631 \u0633\u0628\u062f \u0634\u0645\u0627 \u0645\u0648\u062c\u0648\u062f \u0627\u0633\u062a"})})]}),Object(_.jsx)("h2",{children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a: "}),Object(_.jsx)("div",{className:"productDetail__description",children:n.description})]})})},L=function(){var e=Object(s.c)((function(e){return e.userSignIn.userInfo}));return Object(_.jsxs)("div",{className:"userProfile",children:[Object(_.jsx)(R.a,{children:Object(_.jsx)("title",{children:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644 \u06a9\u0627\u0631\u0628\u0631"})}),Object(_.jsx)("h1",{className:"userProfile__title",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc"}),Object(_.jsxs)("div",{children:[" ",Object(_.jsx)("b",{children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc: "})," ",e.username]})]})},A=function(){return Object(_.jsxs)("div",{className:"profileNav",children:[Object(_.jsx)(i.b,{to:"/",className:"profileNav__link",children:" \u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc \u0633\u0627\u06cc\u062a "}),Object(_.jsx)(i.b,{to:"/signout",className:"profileNav__link",children:" \u062e\u0631\u0648\u062c "})]})},F=function(e){var t=e.children;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A,{}),t]})},P=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.cart}));return Object(_.jsxs)("div",{className:"shoppingCart",children:[Object(_.jsx)(R.a,{children:Object(_.jsx)("title",{children:"\u0633\u0628\u062f \u062e\u0631\u06cc\u062f"})}),0!=t.length?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("span",{className:"shoppingCart__title",children:[Object(_.jsx)(j.a,{icon:d.b,className:"fa"})," ","\u0633\u0628\u062f \u062e\u0631\u06cc\u062f ",t.length]}),Object(_.jsx)("span",{className:"shoppingCart__clearAll",onClick:function(){return e(x())},children:"\u062d\u0630\u0641 \u0647\u0645\u0647"}),Object(_.jsxs)("table",{className:"shoppingCart__table",children:[Object(_.jsx)("thead",{className:"shoppingCart__table--header",children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"\u062a\u0635\u0648\u06cc\u0631 \u0645\u062d\u0635\u0648\u0644"}),Object(_.jsx)("th",{children:"\u0645\u0634\u062e\u0635\u0627\u062a \u0645\u062d\u0635\u0648\u0644"}),Object(_.jsx)("th",{children:"\u062a\u0639\u062f\u0627\u062f"}),Object(_.jsx)("th",{children:"\u0642\u06cc\u0645\u062a"}),Object(_.jsx)("th",{children:"\u062d\u0630\u0641 \u0645\u062d\u0635\u0648\u0644"})]})}),t.map((function(t,c){return Object(_.jsx)("tbody",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:Object(_.jsx)("img",{src:t.image})}),Object(_.jsx)("td",{children:Object(_.jsx)(i.b,{to:"/product/".concat(t.id),className:"link",children:t.title})}),Object(_.jsxs)("td",{children:[t.quantity," \u0639\u062f\u062f"]}),Object(_.jsxs)("td",{children:[t.price,"$"]}),Object(_.jsx)("td",{children:Object(_.jsx)(j.a,{className:"fa",onClick:function(){return e(h(t))},icon:d.d})})]})},c)}))]}),Object(_.jsxs)("span",{className:"shoppingCart__totalPrice",children:[Object(_.jsx)("b",{children:"\u062c\u0645\u0639 \u06a9\u0644: "}),"$",function(){var e=0;return t.map((function(t){e+=t.price*t.quantity})),e.toFixed(2)}()]}),Object(_.jsx)("button",{className:"shoppingCart__btn",children:"\u0627\u062f\u0627\u0645\u0647 \u0641\u0631\u0627\u06cc\u0646\u062f \u062e\u0631\u06cc\u062f"})]}):Object(_.jsxs)("div",{className:"shoppingCart__emptyCart",children:[Object(_.jsx)("img",{src:"./img/empty.png"}),Object(_.jsx)("br",{}),"\u0633\u0628\u062f \u062e\u0631\u06cc\u062f  \u0634\u0645\u0627 \u062e\u0627\u0644\u06cc \u0627\u0633\u062a"]})]})},q=function(e){var t=e.match.params.category,c=Object(s.b)(),n=Object(s.c)((function(e){return e.productList})),a=n.products,i=n.loading,o=n.error;return Object(r.useEffect)((function(){c(E(t))}),[t]),Object(_.jsxs)("div",{children:[Object(_.jsx)(R.a,{children:Object(_.jsxs)("title",{children:[t," \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"]})}),1==i?Object(_.jsx)("div",{className:"loader"}):o?Object(_.jsx)("div",{className:"error",children:o}):Object(_.jsx)(T,{products:a})]})},H=function(){var e=Object(s.c)((function(e){return e.userSignIn.userInfo}));return Object(_.jsxs)(i.a,{basename:"/",children:[Object(_.jsx)(O.a,{}),Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{path:["/profile"],children:Object(_.jsx)(F,{children:Object(_.jsx)(o.d,{children:Object(_.jsx)(o.b,{exact:!0,path:"/profile",component:function(){return null!==e?Object(_.jsx)(L,{}):Object(_.jsx)(o.a,{to:"/"})}})})})}),Object(_.jsx)(o.b,{path:["/"],children:Object(_.jsx)(S,{children:Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{exact:!0,path:"/",component:D}),Object(_.jsx)(o.b,{exact:!0,path:"/product/:id",component:k}),Object(_.jsx)(o.b,{exact:!0,path:"/signin",render:function(){return null!==e?Object(_.jsx)(o.a,{to:"/"}):Object(_.jsx)(U,{})}}),Object(_.jsx)(o.b,{exact:!0,path:"/signout",render:function(){return null!==e?Object(_.jsx)(w,{}):Object(_.jsx)(o.a,{to:"/"})}}),Object(_.jsx)(o.b,{exact:!0,path:"/cart",render:function(){return Object(_.jsx)(P,{})}}),Object(_.jsx)(o.b,{exact:!0,path:"/category/:category",component:q})]})})})]})]})},J=c(21),G=c(46),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(u.a)(t.payload);case"REMOVE-FROM_CART":return e.filter((function(e){return e!=t.payload}));case"EMPTY_CART":return[];default:return e}},Q=Object(J.b)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload.products};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload.product};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},userSignIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SIGNIN_REQUEST":return{loading:!0,userInfo:null};case"USER_SIGNIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_SIGNIN_FAIL":return{loading:!1,error:t.payload,userInfo:null};case"USER_SIGNOUT":return{loading:!1,userInfo:null};default:return e}},cart:M}),B={productList:{products:[],loading:!0},productDetail:{product:{},loading:!0},userSignIn:{loading:!1,userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},cart:localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]},V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.c,$=Object(J.d)(Q,B,V(Object(J.a)(G.a)));a.a.render(Object(_.jsx)(s.a,{store:$,children:Object(_.jsx)(H,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.17eda61e.chunk.js.map